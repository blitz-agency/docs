---
title: "Waterfall Logic"
description: "Smart Lead Routing: Prioritize quality over quantity."
---


In modern B2B growth, **more leads is not the goal. Better leads are.**


The **Waterfall ICP** engine (`/api/search/waterfall-icp-keyword`) is designed to solve one specific problem: **Finding the single best decision-maker** at a target company without manual sorting.


<img
 src="/images/waterfall-icp-blitz.png"
 alt="Waterfall ICP - BlitzAPI"
 style={{ width:"48%" }}
/>


## The "Smart Routing" Concept


Most APIs return a list of 50 employees and leave you to filter them. BlitzAPI works differently. You define a **Hierarchy of Preference** (a Cascade), and our engine executes a sequential search logic.


It attempts to find your "Dream Contact." If, and only if, that fails, it moves to your "Plan B."


<Steps>
 <Step title="Priority 1: The Decision Maker">
   **"I want the CMO."**


   The API scans the company. If a CMO is found, the search **stops immediately**. You get the top-ranked result.
 </Step>
 <Step title="Priority 2: The Deputy">
   **"If no CMO, give me the Marketing Manager."**


   If Priority 1 yielded no results, the engine automatically triggers the second level of your cascade.
 </Step>
 <Step title="Priority 3: The Fallback">
   **"If no Marketing team, give me the CEO."**


   As a last resort, the engine looks for the founder to ensure you don't leave the account empty-handed.
 </Step>
</Steps>


---


## Real-World Example: The "Marketing First" Strategy


Let's look at a complex query. Here, we want to target **Welcome to the Jungle**, but we have a very specific preference order.


**The Strategy:**


1. **Tier 1**: Get the **Marketing Director/CMO** (Global).
2. **Tier 2**: If missing, get a **Growth Manager** (Global).
3. **Tier 3**: If missing, get a **Brand/Comms Director** (Global).
4. **Tier 4**: If missing, try a broader keyword search in **North America only**.
5. **Tier 5**: If all else fails, get the **CEO**.


```json
{
 "company_linkedin_url": "https://www.linkedin.com/company/wttj-fr",
 "cascade": [
   {
     "include_title": ["Marketing Director", "Head Marketing", "Chief Marketing Officer"],
     "exclude_title": ["assistant", "intern", "product", "junior"],
     "location": ["WORLD"],
     "include_headline_search": false
   },
   {
     "include_title": ["Marketing Manager", "Head Growth", "Growth manager"],
     "exclude_title": ["junior", "assistant", "intern", "hacker"],
     "location": ["WORLD"],
     "include_headline_search": false
   },
   {
     "include_title": ["Communication Director", "Brand Director", "Content Director"],
     "exclude_title": ["junior", "assistant", "intern", "UX", "UI", "Design"],
     "location": ["WORLD"],
     "include_headline_search": false
   },
   {
     "include_title": ["Communication", "marketing", "growth", "brand"],
     "exclude_title": ["junior", "assistant", "intern", "product"],
     "location": ["US", "CA"],
     "include_headline_search": true
   },
   {
     "include_title": ["CEO", "founder", "cofounder", "owner", "General Director"],
     "exclude_title": ["junior", "assistant", "intern"],
     "location": ["WORLD"],
     "include_headline_search": false
   }
 ],
 "max_results": 10
}
```


### Why this query is powerful


- **Precision**: By using `exclude_title`, we ensure we don't pay for interns or assistants.
- **Flexibility**: In step 4, we switch `include_headline_search` to `true`. This allows us to catch people who write "Helping companies grow" in their bio, even if their job title isn't exactly "Growth Manager".
- **Safety Net**: The final step ensures that if the Marketing team is invisible, we still capture the CEO to start a top-down conversation.


---


## Choosing Your Engine: Standard vs. Real-Time


We offer two processing modes for this logic. Choose based on your need for speed vs. niche accuracy.


<Tabs>
 <Tab title="Standard (Recommended)">
   **Endpoint**: `/search/waterfall-icp-keyword`


   Best for **high-volume ABM** on well-known companies. It uses a mix of live signals and cached data to deliver results instantly.


   - **Cost**: 1 Credit / result
   - **Latency**: \< 600ms
   - **Ideal for**: Building lists of 10k+ leads quickly.
 </Tab>
</Tabs>


---


## Parameter Reference


Optimize your search filters with these parameters.


| Parameter                 | Type      | Description                                                                                   |
| :------------------------ | :-------- | :-------------------------------------------------------------------------------------------- |
| `include_title`           | `array`   | **Required**. Job titles to match (e.g., `["CEO", "CTO"]`).                                   |
| `exclude_title`           | `array`   | Titles to strictly ignore. Useful to filter out `["Assistant", "Intern", "Junior"]`.          |
| `location`                | `array`   | LinkedIn Country Codes (e.g., `["US", "FR"]`). Use `["WORLD"]` for global search.             |
| `include_headline_search` | `boolean` | If `true`, keywords are searched in the user's bio/headline, not just their formal Job Title. |


<Info>
 **Need the Country Codes?** Check our [Reference Appendix](/guide/reference/appendix#common-country-codes-list) for the correct 2-letter ISO codes expected by LinkedIn.
</Info>

