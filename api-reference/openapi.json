{
  "openapi": "3.1.0",
  "info": {
    "title": "Blitz OpenAPI Reference",
    "version": "1.0.0",
    "description": "Blitz enrichment and search API"
  },
  "servers": [
    {
      "url": "https://api.blitzapi.io",
      "description": "Production server"
    }
  ],
  "components": {
    "securitySchemes": {
      "APIKey": {
        "type": "apiKey",
        "in": "header",
        "name": "x-api-key",
        "description": "API key for the Blitz API. Send: x-api-key: YOUR_KEY"
      }
    },
    "schemas": {},
    "parameters": {}
  },
  "security": [
    {
      "APIKey": []
    }
  ],
  "paths": {
    "/api/enrichment/phone": {
      "post": {
        "summary": "Find Phone Number",
        "description": "cost: 3 credits on success",
        "tags": ["enrichment"],
        "security": [
          {
            "APIKey": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["linkedin_profile_url"],
                "properties": {
                  "linkedin_profile_url": {
                    "type": "string",
                    "format": "uri",
                    "description": "LinkedIn profile URL of the person",
                    "example": "https://www.linkedin.com/in/antoine-blitz-5581b7373"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "found": {
                      "type": "boolean"
                    },
                    "phone": {
                      "type": "string"
                    }
                  },
                  "example": {
                    "found": true,
                    "phone": "+1234567890"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string"
                    }
                  },
                  "example": {
                    "message": "Missing API key, please provide a valid API key in the 'x-api-key' header"
                  }
                }
              }
            }
          },
          "402": {
            "description": "Payment Required",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string"
                    }
                  },
                  "example": {
                    "message": "Insufficient credits balance"
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "example": {
                    "success": false,
                    "message": "this is a controlled error. created at 2025-07-11T10:20:00.000Z"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/enrichment/email": {
      "post": {
        "summary": "Find work email",
        "description": "cost: 1 credit on success",
        "tags": ["enrichment"],
        "security": [
          {
            "APIKey": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["linkedin_profile_url"],
                "properties": {
                  "linkedin_profile_url": {
                    "type": "string",
                    "format": "uri",
                    "description": "LinkedIn profile URL of the person",
                    "example": "https://www.linkedin.com/in/antoine-blitz-5581b7373"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "found": {
                      "type": "boolean"
                    },
                    "email": {
                      "type": "string",
                      "format": "email"
                    }
                  },
                  "example": {
                    "found": true,
                    "email": "antoine@blitz-agency.com"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string"
                    }
                  },
                  "example": {
                    "message": "Missing API key, please provide a valid API key in the 'x-api-key' header"
                  }
                }
              }
            }
          },
          "402": {
            "description": "Payment Required",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string"
                    }
                  },
                  "example": {
                    "message": "Insufficient credits balance"
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "example": {
                    "success": false,
                    "message": "this is a controlled error. created at 2025-07-11T10:20:00.000Z"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/enrichment/email_domain": {
      "post": {
        "summary": "Email Domain Finder",
        "description": "cost: 0.5 credits on success",
        "tags": ["enrichment"],
        "security": [
          {
            "APIKey": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["linkedin_company_url"],
                "properties": {
                  "linkedin_company_url": {
                    "type": "string",
                    "format": "uri",
                    "description": "LinkedIn company URL",
                    "example": "https://www.linkedin.com/company/blitz-api"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "found": {
                      "type": "boolean"
                    },
                    "email_domain": {
                      "type": "string"
                    }
                  },
                  "example": {
                    "found": true,
                    "email_domain": "example.com"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string"
                    }
                  },
                  "example": {
                    "message": "Missing API key, please provide a valid API key in the 'x-api-key' header"
                  }
                }
              }
            }
          },
          "402": {
            "description": "Payment Required",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string"
                    }
                  },
                  "example": {
                    "message": "Insufficient credits balance"
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "example": {
                    "success": false,
                    "message": "this is a controlled error. created at 2025-07-11T10:20:00.000Z"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/blitz/key-info": {
      "get": {
        "summary": "Get API Key info",
        "description": "cost: 0 credits",
        "tags": ["blitz"],
        "security": [
          {
            "APIKey": []
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "string"
                    },
                    "credits_balance": {
                      "type": "number"
                    },
                    "credits_reset_at": {
                      "type": "string"
                    },
                    "active_plans": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "name": {
                            "type": "string"
                          },
                          "status": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  },
                  "example": {
                    "id": "ID",
                    "credits_balance": 278,
                    "credits_reset_at": "21/11/2025, 00:00:00 AM",
                    "active_plans": [
                      {
                        "name": "plan name",
                        "status": "active"
                      }
                    ]
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string"
                    }
                  },
                  "example": {
                    "message": "Missing API key, please provide a valid API key in the 'x-api-key' header"
                  }
                }
              }
            }
          },
          "404": {
            "description": "Not found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string"
                    }
                  },
                  "example": {
                    "message": "API Key not found"
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "example": {
                    "success": false,
                    "message": "this is a controlled error. created at 2025-07-11T10:20:00.000Z"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/email/validate": {
      "post": {
        "tags": ["email"],
        "summary": "Catch-all Email Validation",
        "description": "cost: 0.5 credits on success",
        "security": [
          {
            "APIKey": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["email"],
                "properties": {
                  "email": {
                    "type": "string",
                    "format": "email",
                    "description": "Email address to validate",
                    "example": "antoine@blitz-agency.com"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "email": {
                      "type": "string",
                      "format": "email"
                    },
                    "status": {
                      "type": "string",
                      "description": "Validation status (e.g. valid, invalid, catch-all)"
                    }
                  },
                  "example": {
                    "email": "antoine@blitz-agency.com",
                    "status": "valid"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string"
                    }
                  },
                  "example": {
                    "message": "Missing API key, please provide a valid API key in the 'x-api-key' header"
                  }
                }
              }
            }
          },
          "402": {
            "description": "Payment Required",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string"
                    }
                  },
                  "example": {
                    "message": "Insufficient credits balance"
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "example": {
                    "success": false,
                    "message": "this is a controlled error. created at 2025-07-11T10:20:00.000Z"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/search/waterfall-icp": {
      "post": {
        "tags": ["search"],
        "summary": "Waterfall ICP",
        "description": "cost: 1 credit per result (max = max_results)",
        "security": [
          {
            "APIKey": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["company_linkedin_url", "cascade", "max_results"],
                "properties": {
                  "company_linkedin_url": {
                    "type": "string",
                    "format": "uri",
                    "description": "LinkedIn company URL",
                    "example": "https://www.linkedin.com/company/wttj-fr"
                  },
                  "cascade": {
                    "type": "array",
                    "description": "Cascade of ICP filters",
                    "items": {
                      "type": "object",
                      "properties": {
                        "include_title": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        },
                        "exclude_title": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        },
                        "location": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        },
                        "include_headline_search": {
                          "type": "boolean"
                        }
                      }
                    }
                  },
                  "max_results": {
                    "type": "integer",
                    "description": "Maximum number of results to return",
                    "example": 10
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "example": {
                    "company_linkedin_url": "https://www.linkedin.com/company/wttj-fr",
                    "max_results": 2,
                    "results_length": 2,
                    "results": [
                      {
                        "full_name": "Lionel Pereira",
                        "first_name": "Lionel",
                        "last_name": "Pereira",
                        "job_title": "Director Sales Enterprise & Agency",
                        "linkedin_headline": "Director Sales Enterprise & Agency @ Welcome to the Jungle",
                        "company_domain": "welcometothejungle.com",
                        "company_linkedin_url": "https://www.linkedin.com/company/wttj-fr",
                        "person_linkedin_url": "https://www.linkedin.com/in/lionelpereira",
                        "country": "France",
                        "icp": 2,
                        "ranking": 1,
                        "what_matched": [
                          {
                            "value": "Director Sales Enterprise & Agency",
                            "key": "job_title"
                          },
                          {
                            "value": "Director Sales Enterprise & Agency @ Welcome to the Jungle",
                            "key": "linkedin_headline"
                          }
                        ]
                      },
                      {
                        "full_name": "Sandrine Fostinelli",
                        "first_name": "Sandrine",
                        "last_name": "Fostinelli",
                        "job_title": "Product Marketing Director",
                        "linkedin_headline": "Head of Product Marketing",
                        "company_domain": "welcometothejungle.com",
                        "company_linkedin_url": "https://www.linkedin.com/company/wttj-fr",
                        "person_linkedin_url": "https://www.linkedin.com/in/sandrine-fostinelli",
                        "country": "France",
                        "icp": 3,
                        "ranking": 2,
                        "what_matched": [
                          {
                            "value": "Product Marketing Director",
                            "key": "job_title"
                          }
                        ]
                      }
                    ]
                  }
                }
              }
            }
          },
          "402": {
            "description": "Payment Required",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "example": {
                    "message": "Insufficient credits balance"
                  }
                }
              }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "example": {
                    "success": false,
                    "error": {
                      "code": "INVALID_INPUT",
                      "message": "Missing required fields"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "example": {
                    "success": false,
                    "message": "this is a controlled error. created at 2025-07-11T10:20:00.000Z"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/search/waterfall-icp-real-time": {
      "post": {
        "tags": ["search"],
        "summary": "Waterfall ICP Real Time",
        "description": "cost: 3 credits per result (max = max_results)",
        "security": [
          {
            "APIKey": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["company_linkedin_url", "cascade", "max_results"],
                "properties": {
                  "company_linkedin_url": {
                    "type": "string",
                    "format": "uri",
                    "description": "LinkedIn company URL",
                    "example": "https://www.linkedin.com/company/wttj-fr"
                  },
                  "cascade": {
                    "type": "array",
                    "description": "Cascade of ICP filters (real-time mode)",
                    "items": {
                      "type": "object",
                      "properties": {
                        "include_title": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        },
                        "exclude_title": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        },
                        "location": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        },
                        "include_headline_search": {
                          "type": "boolean"
                        }
                      }
                    }
                  },
                  "max_results": {
                    "type": "integer",
                    "description": "Maximum number of results to return",
                    "example": 10
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "example": {
                    "company_linkedin_url": "https://www.linkedin.com/company/wttj-fr",
                    "max_results": 2,
                    "results_length": 2,
                    "results": [
                      {
                        "full_name": "Lionel Pereira",
                        "first_name": "Lionel",
                        "last_name": "Pereira",
                        "job_title": "Director Sales Enterprise & Agency",
                        "linkedin_headline": "Director Sales Enterprise & Agency @ Welcome to the Jungle",
                        "company_domain": "welcometothejungle.com",
                        "company_linkedin_url": "https://www.linkedin.com/company/wttj-fr",
                        "person_linkedin_url": "https://www.linkedin.com/in/lionelpereira",
                        "country": "France",
                        "icp": 2,
                        "ranking": 1,
                        "what_matched": [
                          {
                            "value": "Director Sales Enterprise & Agency",
                            "key": "job_title"
                          },
                          {
                            "value": "Director Sales Enterprise & Agency @ Welcome to the Jungle",
                            "key": "linkedin_headline"
                          }
                        ]
                      },
                      {
                        "full_name": "Sandrine Fostinelli",
                        "first_name": "Sandrine",
                        "last_name": "Fostinelli",
                        "job_title": "Product Marketing Director",
                        "linkedin_headline": "Head of Product Marketing",
                        "company_domain": "welcometothejungle.com",
                        "company_linkedin_url": "https://www.linkedin.com/company/wttj-fr",
                        "person_linkedin_url": "https://www.linkedin.com/in/sandrine-fostinelli",
                        "country": "France",
                        "icp": 3,
                        "ranking": 2,
                        "what_matched": [
                          {
                            "value": "Product Marketing Director",
                            "key": "job_title"
                          }
                        ]
                      }
                    ]
                  }
                }
              }
            }
          },
          "402": {
            "description": "Payment Required",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "example": {
                    "message": "Insufficient credits balance"
                  }
                }
              }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "example": {
                    "success": false,
                    "error": {
                      "code": "INVALID_INPUT",
                      "message": "Missing required fields"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "example": {
                    "success": false,
                    "message": "this is a controlled error. created at 2025-07-11T10:20:00.000Z"
                  }
                }
              }
            }
          }
        }
      }
    }
  }
}